<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upload functions for DataSHIELD backends • dsUpload</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Upload functions for DataSHIELD backends">
<meta property="og:description" content="We supply standardised ways to upload and import versioned data dictionaries. 
  To check if your data is correct it contains a number of local functions which can be performed to
  check the quality of your data as well. It also can reshape the data into Opal format when you use other tools
  to harmonise your data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">dsUpload</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/DSUpload.html">DSUpload</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lifecycle-project/ds-upload/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><img src="https://travis-ci.org/lifecycle-project/ds-upload.svg?branch=master" alt="Build status"></p>
<div id="datashield-upload-tools" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#datashield-upload-tools" class="anchor"></a>DataSHIELD upload tools</h1></div>
<p>This is a collections of tools used to upload data into DataSHIELD backends. It aids data mangers in the initial stages of uploading data to DataSHIELD backends.</p>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Please check <a href="https://lifecycle-project.github.io/ds-upload/articles/DSUpload.html">uploading to DataSHIELD guide</a></p>
<p>For detailled function descrptions, please check: <a href="https://lifecycle-project.github.io/ds-upload/reference/index.html">references</a> and above.</p>
</div>
<div id="troubleshooting" class="section level2">
<h2 class="hasAnchor">
<a href="#troubleshooting" class="anchor"></a>Troubleshooting</h2>
<p>Please check the <a href="">troubleshooting guide</a>.</p>
</div>
<div id="adding-new-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-new-variables" class="anchor"></a>Adding new variables</h2>
<p>Please check: <a href="https://github.com/lifecycle-project/ds-dictionaries/blob/master/README.md">adding new variables</a></p>
</div>
<div id="releases" class="section level2">
<h2 class="hasAnchor">
<a href="#releases" class="anchor"></a>Releases</h2>
<p>Releasing the artifact can be done by curling to the following address:</p>
<div id="for-source-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#for-source-packages" class="anchor"></a>For source packages</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ex">curl</span> -v --user <span class="st">'user:password'</span> --upload-file dsUpload_3.0.0.tar.gz https://registry.molgenis.org/repository/r-hosted/src/contrib/dsUpload_3.0.0.tar.gz </a></code></pre></div>
<p><em>URL clarification: <a href="https://registry.molgenis.org/repository/r-hosted/src/contrib/*package_version" class="uri">https://registry.molgenis.org/repository/r-hosted/src/contrib/*package_version</a></em>.tar.gz*</p>
</div>
<div id="for-binary-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#for-binary-packages" class="anchor"></a>For binary packages</h3>
<p>First upload the source package to <a href="https://win-builder.r-project.org/" class="uri">https://win-builder.r-project.org/</a> Then download the zip-file build bij win-builder. Then upload it into the registry by executing this command:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="ex">curl</span> -v --user <span class="st">'user:password'</span> --upload-file dsUpload_3.0.0.zip https://registry.molgenis.org/repository/r-hosted/bin/windows/contrib/3.6/dsUpload_3.0.0.zip</a></code></pre></div>
<p><em>URL clarification: <a href="https://registry.molgenis.org/repository/r-hosted/bin/windows/contrib/*r-version*/*package_version" class="uri">https://registry.molgenis.org/repository/r-hosted/bin/windows/contrib/*r-version*/*package_version</a></em>.zip*</p>
<p>Also create a git-tag and push this to the remote, based upon the <code>dsUpload</code> DESCRIPTION-file.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="fu">git</span> tag x.x.x</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="fu">git</span> push origin tags/x.x.x</a></code></pre></div>
<p>This is used to download the data dictionaries, so do not forget to do this!</p>
</div>
</div>
<div id="setup-travis-ci" class="section level2">
<h2 class="hasAnchor">
<a href="#setup-travis-ci" class="anchor"></a>Setup Travis-CI</h2>
<p>You need some prerequisites for implementing the travis build flow.</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"remotes"</span>, <span class="st">"usethis"</span>))
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">remotes</span>)
<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"ropenscilabs/travis"</span>)</pre></div>
<p>Then you are going to implement the travis workflow</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">usethis</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">travis</span>)

<span class="co"># generate a travis file</span>
<span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu">use_travis</span>()</pre></div>
<p>To use travis to generate your site as well please use <code>pkgdown</code></p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu">use_pkgdown</span>()
<span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu">use_pkgdown_travis</span>()</pre></div>
<p>Use travis to deploy to github by first perparing the R environment: <code>usethis::edit_r_environ()</code></p>
<p>Add these key-value pairs to R environment</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># You can generate the key using this function: usethis::browse_github_token()</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="va">GITHUB_PAT=</span>xxxx</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="va">R_TRAVIS=</span>.org</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co"># You can find the key using this function: `travis::browse_travis_token(endpoint = '.org')`</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="va">R_TRAVIS_ORG=</span>xxxx</a></code></pre></div>
<p>Run the travis deploy command to complete the setup.</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="kw pkg">travis</span><span class="kw ns">::</span><span class="fu">use_travis_deploy</span>()</pre></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/lifecycle-project/ds-upload/">https://​github.com/​lifecycle-project/​ds-upload/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/lifecycle-project/ds-upload/issues">https://​github.com/​lifecycle-project/​ds-upload/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Sido Haakma <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Sido Haakma.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
